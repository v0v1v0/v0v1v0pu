<div class="container">

<table style="width: 100%;"><tr>
<td>summaries.plot.x</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot of central and non-central conditional tendency measures for
a single numeric variable</h2>

<h3>Description</h3>

<p><code>summaries.plot.x()</code> plots location statistics for a
numeric vector conditioned to the levels of one or more variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">summaries.plot.x(
  x,
  stats = "mean",
  plot.type = "bars",
  conf.level = 0.95,
  by1,
  by2,
  breaks.by1,
  interval.by1 = FALSE,
  breaks.by2,
  interval.by2 = FALSE,
  adj.breaks = TRUE,
  bw = FALSE,
  color = NULL,
  legend = TRUE,
  use.scientific = FALSE,
  data,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An unquoted string identifying a <em>numerical</em> variable whose
tendency measures have to be graphically displayed.
<code>x</code> can be the name of a vector in the workspace or the
name of one of the columns in the data frame specified in the
<code>data</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stats</code></td>
<td>
<p>A single character specifying the conditioned
tendency measure/s to
display in the plot. The available options are <code>"mean"</code>,
<code>"median"</code>, <code>"ci.mean"</code> (to plot the means and the
confidence intervals for the means), and specific sets of
quantiles, namely <code>"quartiles"</code>, <code>"quintiles"</code>,
<code>"deciles"</code>, and <code>"percentiles"</code> (note that for quantiles
only one single layer can be specified).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.type</code></td>
<td>
<p>A single character specifying the type of plot
used to compare the requested measures conditioned to the levels
of one variable, <code>by1</code>, possibly broken down by the
levels of a second variable, <code>by2</code>, if specified.
The available options are:
</p>

<ul>
<li> <p><code>"bars"</code>: Available only when <code>stats</code> is <code>"mean"</code>,
<code>"median"</code>, or <code>"ci.mean"</code> and one single layer (<code>by1</code>)
is specified. For each level of <code>by1</code> a bar is built whose
height coincides with the conditional mean or median. Confidence
intervals for the means are reported when <code>stats = "ci.mean"</code>.
</p>
</li>
<li> <p><code>"points"</code>: Available only when <code>stats</code> is <code>"mean"</code>,
<code>"median"</code>, and <code>"ci.mean"</code>. Confidence
intervals for the means are reported when <code>stats = "ci.mean"</code> and
one single layer is specified.
</p>
</li>
<li> <p><code>"lines"</code>: Points joined by lines; this is the unique option
available for quantiles.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>A number between 0 and 1 indicating the
confidence level of the intervals for the conditional means
when <code>stats = "ci.mean"</code> is specified (default to 0.95).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by1, by2</code></td>
<td>
<p>Unquoted strings identifying variables
(typically taking few values/levels) used to build conditional
summaries, that can be defined same way as <code>x</code>. At least one
layer has to be specified. The conditional measures are plotted
against the values of <code>by1</code>, broken down by the levels
of <code>by2</code>, if specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks.by1, breaks.by2</code></td>
<td>
<p>Allow classifying the variables
<code>by1</code>  and/or <code>by2</code>, if <em>numerical</em>, into intervals.
They can be integers indicating the number of intervals of
equal width used to classify <code>by1</code> and/or <code>by2</code>,
or vectors of increasing numeric values defining the endpoints
of intervals (closed on the left and open on the right; the last
interval is closed on the right too). To cover the entire range
of values the maximum and the minimum values should be
included between the first and the last break. It is possible to
specify a set of breaks covering only a portion of the range
of <code>by1</code> and/or <code>by2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval.by1, interval.by2</code></td>
<td>
<p>Logical values indicating
whether <code>by1</code> and/or <code>by2</code> are variables
measured in classes (<code>TRUE</code>). If the intervals for
one variable are not consistent (e.g. overlapping intervals,
or intervals with upper endpoint higher than the lower one),
the variable is analysed as it is, even if
results are not necessarily consistent; default to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj.breaks</code></td>
<td>
<p>Logical value indicating whether the endpoints of
intervals of the numerical variables <code>by1</code> or <code>by2</code>,
when classified into intervals, should be displayed avoiding
scientific notation; default to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bw</code></td>
<td>
<p>Logical value indicating whether plots should be colored
in scale of greys (<code>TRUE</code>) rather than using a standard
palette (<code>FALSE</code>, default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>Optional string vector to specify colors
to use in the plot rather than a standard palette
(<code>NULL</code>, default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>Logical value indicating whether a legend should be displayed
in the plot (<code>legend = TRUE</code>; default) or not
(<code>legend = FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.scientific</code></td>
<td>
<p>Logical value indicating whether numbers on
axes should be displayed using scientific notation
(<code>TRUE</code>); default to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An optional data frame containing <code>x</code>
and/or the variables specifying the layers, <code>by1</code> and <code>by2</code>.
If not found in <code>data</code>, the variables are taken from
the environment from which <code>distr.summary.x()</code> is called.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to be passed to low level functions.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A table (converted to dataframe) reporting the requested
statistics conditioned to the levels of the specified layers.
</p>


<h3>Author(s)</h3>

<p>Raffaella Piccarreta <a href="mailto:raffaella.piccarreta@unibocconi.it">raffaella.piccarreta@unibocconi.it</a>
</p>


<h3>See Also</h3>

<p><code>distr.summary.x()</code> for tabulating summary
measures of a univariate distribution.
</p>
<p><code>distr.plot.x()</code> for plotting a univariate
distribution.
</p>
<p><code>distr.table.x()</code> for tabulating a univariate
distribution.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(MktDATA, package = "UBStats")

# Means (and their CI) or medians by a single variable
# - Barplot of means (default) by a character 
summaries.plot.x(x = TotVal, stats = "mean",  
               by1 = Gender, data = MktDATA)
# - Barplot of medians by a numerical variable
#   classified into intervals: user-defined color
summaries.plot.x(x = TotVal, stats = "median", 
                 by1 = AOV, breaks.by1 = 5, 
                 color = "purple", data = MktDATA)
# - Lineplot of means and their CI by a variable 
#   measured in classes
summaries.plot.x(x = TotVal, 
                 stats = "ci.mean", plot.type = "lines",
                 by1 = Income.S, interval.by1 = TRUE,
                 data = MktDATA)
# - Barplot of means and their CI by a 
#   numerical variable; change the confidence level
summaries.plot.x(x = TotVal, 
                 stats = "ci.mean", conf.level = 0.90,
                 plot.type = "bars", 
                 by1 = NWeb_Purch, data = MktDATA)
# - Note: no plot built for a variable with 
#   too many levels (&gt;20)
# summaries.plot.x(x = TotVal, 
#                  stats = "ci.mean", plot.type = "lines",
#                  by1 = AOV, data = MktDATA)

# Quantiles by a single variable
# - Only lines plots allowed for quantiles
summaries.plot.x(x = Baseline, 
                 stats = "deciles", plot.type = "lines",
                 by1 = NDeals, data = MktDATA)
summaries.plot.x(x = Baseline, 
                 stats = "quartiles", plot.type = "lines",
                 by1 = Marital_Status, data = MktDATA)

# Means and medians by two variables
# - Default: only lines allowed
summaries.plot.x(x = TotVal, stats = "mean", 
                 by1 = Education, by2 = Kids, 
                 data = MktDATA)
summaries.plot.x(x = TotVal, stats = "median", 
                 by1 = Income.S, by2 = Gender,
                 interval.by1 = TRUE,
                 data = MktDATA)
summaries.plot.x(x = Baseline, stats = "mean", 
                 by1 = CustClass, by2 = AOV,
                 breaks.by2 = 5, data = MktDATA)
# - "ci.mean" not allowed with two layers
CustClass_Kids&lt;-paste0(MktDATA$CustClass,"-",MktDATA$Kids)
summaries.plot.x(x = Baseline, stats = "ci.mean", 
                 conf.level = 0.99, by1 = CustClass_Kids,
                 color = "gold", data = MktDATA)

# Arguments adj.breaks and use.scientific
#  Variables with a very wide range
LargeX&lt;-MktDATA$TotVal*1000000
LargeBY&lt;-MktDATA$AOV*5000000 
#  - Default: no scientific notation
summaries.plot.x(LargeX, plot.type = "bars",
                 by1=LargeBY, breaks.by1 = 5, data = MktDATA)
#  - Scientific notation for summaries (axes) 
summaries.plot.x(LargeX, plot.type = "lines",
                 by1=LargeBY, breaks.by1 = 5, 
                 use.scientific = TRUE, data = MktDATA)
#  - Scientific notation for intervals endpoints
summaries.plot.x(LargeX, stats = "ci.mean",
                 plot.type = "lines",
                 by1=LargeBY, breaks.by1 = 5,
                 adj.breaks = FALSE, data = MktDATA)
#  - Scientific notation for intervals endpoints and summaries
summaries.plot.x(LargeX, stats = "quartiles",
                 plot.type = "lines", 
                 by1=LargeBY, breaks.by1 = 5, 
                 adj.breaks = FALSE, use.scientific = TRUE,
                 data = MktDATA)

# Output the table with the requested summaries 
Out_TotVal&lt;-summaries.plot.x(x = TotVal, stats = "ci.mean", 
                             by1 = Education, data = MktDATA)

</code></pre>


</div>