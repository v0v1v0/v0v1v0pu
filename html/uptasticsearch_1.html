<div class="container">

<table style="width: 100%;"><tr>
<td>chomp_aggs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Aggs query to data.table</h2>

<h3>Description</h3>

<p>Given some raw JSON from an aggs query in Elasticsearch, parse the
aggregations into a data.table.
</p>


<h3>Usage</h3>

<pre><code class="language-R">chomp_aggs(aggs_json = NULL)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>aggs_json</code></td>
<td>
<p>A character vector. If its length is greater than 1, its elements will be pasted
together. This can contain a JSON returned from an <code>aggs</code> query in Elasticsearch, or
a filepath or URL pointing at one.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A data.table representation of the result or NULL if the aggregation result is empty.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># A sample raw result from an aggs query combining date_histogram and extended_stats:
result &lt;- '{"aggregations":{"dateTime":{"buckets":[{"key_as_string":"2016-12-01T00:00:00.000Z",
"key":1480550400000,"doc_count":123,"num_potatoes":{"count":120,"min":0,"max":40,"avg":15,
"sum":1800,"sum_of_squares":28000,"variance":225,"std_deviation":15,"std_deviation_bounds":{
"upper":26,"lower":13}}},{"key_as_string":"2017-01-01T00:00:00.000Z","key":1483228800000,
"doc_count":134,"num_potatoes":{"count":131,"min":0,"max":39,"avg":16,"sum":2096,
"sum_of_squares":34000,"variance":225,"std_deviation":15,"std_deviation_bounds":{"upper":26,
"lower":13}}}]}}}'

# Parse into a data.table
aggDT &lt;- chomp_aggs(aggs_json = result)
print(aggDT)
</code></pre>


</div>