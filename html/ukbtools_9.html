<div class="container">

<table style="width: 100%;"><tr>
<td>ukb_context</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Demographics of a UKB sample subset</h2>

<h3>Description</h3>

<p>Describes a subset of the UKB sample, relative to a reference subsample, on the <a href="http://biobank.ctsu.ox.ac.uk/crystal/label.cgi?id=1001">UKB primary demographics</a> (sex, age, ethnicity, Townsend deprivation) and assessment centre and current employment status. The "subset" and "reference" samples are defined either by a variable of interest (<code>nonmiss.var</code> - those with data form the "subset" of interest and samples with missing data are the "reference" sample), or a logical vector (<code>subset.var</code> - where <code>TRUE</code> values define the "subset" and <code>FALSE</code> the "reference" samples) . This function is intended as an exploratory data analysis and quality control tool.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ukb_context(data, nonmiss.var = NULL, subset.var = NULL,
  bar.position = "fill", sex.var = "^sex.*0_0",
  age.var = "^age_when_attended_assessment_centre.*0_0",
  socioeconomic.var = "^townsend_deprivation_index_at_recruitment.*0_0",
  ethnicity.var = "^ethnic_background.*0_0",
  employment.var = "^current_employment_status.*0_0",
  centre.var = "^uk_biobank_assessment_centre.*0_0")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A UKB dataset constructed with <code>ukb_df</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nonmiss.var</code></td>
<td>
<p>The variable of interest which defines the "subset" (samples with data) and "reference" (samples without data, i.e., NA) samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset.var</code></td>
<td>
<p>A logical vector defining a "subset" (<code>TRUE</code>) and "reference" subset (<code>FALSE</code>). Length must equal the number of rows in your <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bar.position</code></td>
<td>
<p>This argument is passed to the <code>position</code> in <code>geom_bar</code>. The default value is <code>"fill"</code> which shows reference and subset of interest as proportions of the full dataset. Useful alternatives are <code>"stack"</code> for counts and <code>"dodge"</code> for side-by-side bars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sex.var</code></td>
<td>
<p>The variable to be used for sex. Default value is the regular expression "^sex.*0_0".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age.var</code></td>
<td>
<p>The variable to be use for age. Default value is the regular expression "^age_when_attended_assessment_centre.*0_0".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>socioeconomic.var</code></td>
<td>
<p>The variable to be used for socioeconomic status. Default value is deprivation at baseline, the regular expression "^townsend_deprivation_index_at_recruitment.*0_0".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ethnicity.var</code></td>
<td>
<p>The variable to be used for ethnicity. Default value is the regular expression "^ethnic_background.*0_0".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>employment.var</code></td>
<td>
<p>The variable to be used for employment status. Default value is employment status at baseline "^current_employment_status.*0_0".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>centre.var</code></td>
<td>
<p>The variable to be used for assessment centre. Default value is the regular expression "^uk_biobank_assessment_centre.*0_0".</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>ukb_df</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Compare those with data to those without
ukb_context(my_ukb_data, nonmiss.var = "my_variable_of_interest")

# Define a subset of interest as a logical vector
subgroup_of_interest &lt;- (my_ukb_data$bmi &gt; 40 &amp; my_ukb_data$age &lt; 50)
ukb_context(my_ukb_data, subset.var = subgroup_of_interest)

## End(Not run)

</code></pre>


</div>