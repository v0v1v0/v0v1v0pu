<div class="container">

<table style="width: 100%;"><tr>
<td>Rating</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stage-Discharge equation optimisation</h2>

<h3>Description</h3>

<p>Optimises a power law rating equation from observed discharge and stage
</p>


<h3>Usage</h3>

<pre><code class="language-R">Rating(x, a = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a data.frame with discharge in the first column and stage in the second</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>a user defined stage correction</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The power law rating equation optimised here has the form q = c(h+a)^n; where 'q' is flow, 'h' is the stage, c' and 'n' are constants, and 'a' is the stage when flow is zero. The optimisation uses all the data provided in the dataframe (x). If separate rating limbs are necessary, x can be subset per limb. i.e. the rating function would be used multiple times, once for each subset of x. There is the option, with the 'a' argument, to hold the stage correction parameter (a), at a user defined level. If 'a' is NULL it will be calibrated with 'c' &amp; 'n' as part of the optimisation procedure.
</p>


<h3>Value</h3>

<p>A list with three elements. The first is a vetor of the three calibrated rating parameters. The second is the rating equation; discharge as a function of stage. The third is the rating equation; stage as a function of discharge. A rating plot is also returned.
</p>


<h3>Author(s)</h3>

<p>Anthony Hammond
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Make up Some data:
Q &lt;- c(177.685, 240.898, 221.954, 205.55, 383.051, 154.061, 216.582)
Stage &lt;- c(1.855, 2.109, 2.037, 1.972, 2.574, 1.748, 2.016)
Observations &lt;- data.frame(Q, Stage)
#apply the rating function:
Rating(Observations)
#Hold the stage correction at zero
Rating(Observations, a = 0)
</code></pre>


</div>