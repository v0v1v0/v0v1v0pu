<div class="container">

<table style="width: 100%;"><tr>
<td>distr.plot.xy</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Analysis of a bivariate distribution using plots</h2>

<h3>Description</h3>

<p><code>distr.plot.xy()</code> generates plots of a bivariate distribution.
</p>


<h3>Usage</h3>

<pre><code class="language-R">distr.plot.xy(
  x,
  y,
  plot.type,
  bar.type = "stacked",
  freq = "counts",
  freq.type = "joint",
  breaks.x,
  breaks.y,
  interval.x = FALSE,
  interval.y = FALSE,
  bw = FALSE,
  color = NULL,
  var.c,
  breaks.c,
  interval.c = FALSE,
  adj.breaks = TRUE,
  fitline = FALSE,
  legend = TRUE,
  use.scientific = FALSE,
  data,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, y</code></td>
<td>
<p>Unquoted strings identifying the variables whose
distribution has to be graphically displayed. <code>x</code> and
<code>y</code> can be the name of a vector or a factor in the
workspace or the name of one of the columns in the data frame
specified in the <code>data</code> argument.
Note that in the plot <code>x</code> is reported on the
<em>horizontal</em> axis while <code>y</code> is reported on
the <em>vertical</em> axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.type</code></td>
<td>
<p>A single character specifying the type of plot to build.
Allowed options are <code>"bars"</code>, <code>"scatter"</code>, and
<code>"boxplot"</code>. If both <code>x</code> and <code>y</code> are character vectors
or factors and <code>bar.type = "scatter"</code> a bubble plot is
built, with dots having a size proportional to the joint frequency of
each pair of observed values. If <code>bar.type = "boxplot"</code>, at least
one input variable must be numeric; when both the variables are numeric
the conditional distributions of <code>y|x</code> are displayed, unless
otherwise specified using <code>freq.type="x|y"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bar.type</code></td>
<td>
<p>A single character indicating whether in a bar plot
stacked (<code>bar.type = "stacked"</code>, default) or side-by-side
(<code>bar.type = "beside"</code>) bars should be displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>
<p>A single character specifying the frequencies
to be displayed when a bar plot is requested (<code>plot.type="bars"</code>).
Allowed options (possibly abbreviated) are <code>"counts"</code>,
<code>"percentages"</code> and <code>"proportions"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq.type</code></td>
<td>
<p>A single character specifying the type of
frequencies to be displayed when a bar plot is requested
(<code>plot.type="bars"</code>). Allowed options are <code>joint</code> (default)
for joint frequencies, <code>x|y</code> for the distributions
of <code>x</code> conditioned to <code>y</code>, and <code>y|x</code> for
the distributions of <code>y</code> conditioned to <code>x</code>. The option
<code>x|y</code> can also be used when <code>plot.type="boxplot"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks.x, breaks.y</code></td>
<td>
<p>Allow to classify the variables <code>x</code>
and/or <code>y</code>, if <em>numerical</em>, into intervals.
They can be integers indicating the number of intervals of
equal width used to classify <code>x</code> and/or <code>y</code>, or
vectors of increasing numeric values defining the endpoints of
the intervals (closed on the left and open
on the right; the last interval is closed on the right too).
To cover the entire range of values taken by one variable,
the maximum and the minimum values should be included between
the first and the last break.
It is possible to specify a set of breaks covering only a portion
of the variable's range.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval.x, interval.y</code></td>
<td>
<p>Logical values indicating whether
<code>x</code> and/or <code>y</code> are variables measured in classes
(<code>TRUE</code>). If the detected intervals are not
consistent (e.g. overlapping intervals, or intervals with
upper endpoint higher than the lower one), the variable is
analyzed as it is, even if results are not necessarily
consistent; default to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bw</code></td>
<td>
<p>Logical value indicating whether plots should be colored
in scale of greys (<code>TRUE</code>) rather than using a standard
palette (<code>FALSE</code>, default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>Optional string vector allowing to specify colors
to use in the plot rather than a standard palette
(<code>NULL</code>, default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.c</code></td>
<td>
<p>An optional unquoted string identifying one variable
used to color points in a scatter plot (<code>plot.type="scatter"</code>),
that can be defined same way as <code>x</code>. This is allowed only when
at least one of the input variables <code>x</code> and <code>y</code> is numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks.c</code></td>
<td>
<p>Allows to classify the variable <code>var.c</code>, if
<em>numerical</em>, into intervals. It can be defined as <code>breaks.x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval.c</code></td>
<td>
<p>Logical value indicating whether <code>var.c</code> is a variable
measured in intervals (<code>TRUE</code>) or not, as described for
<code>interval.x</code>; default to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj.breaks</code></td>
<td>
<p>Logical value indicating whether the endpoints of
intervals of a numerical variable (<code>x</code>, or <code>y</code>,
or <code>var.c</code>) when classified into intervals should be
displayed avoiding scientific notation; default to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitline</code></td>
<td>
<p>Logical value indicating whether the line of best fit (also
called trend line or regression line) should be added to a scatter plot
(<code>fitline = TRUE</code>) or not (<code>fitline = FALSE</code>; default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>Logical value indicating whether a legend should be displayed
in the plot (<code>legend = TRUE</code>; default) or not (<code>legend = FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.scientific</code></td>
<td>
<p>Logical value indicating whether numbers on
axes should be displayed using scientific notation
(<code>TRUE</code>); default to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An optional data frame containing <code>x</code> and/or <code>y</code>
and/or <code>var.c</code> (the variable used to color points in scatter plots).
If not found in <code>data</code>, the variables are taken from the environment
from which <code>distr.plot.xy()</code> is called.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to be passed to low level functions.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>Author(s)</h3>

<p>Raffaella Piccarreta <a href="mailto:raffaella.piccarreta@unibocconi.it">raffaella.piccarreta@unibocconi.it</a>
</p>


<h3>See Also</h3>

<p><code>distr.table.xy()</code> for tabulating a bivariate
distribution.
</p>
<p><code>distr.table.x()</code> for tabulating a univariate
distribution.
</p>
<p><code>distr.plot.x()</code> for plotting a univariate
distribution.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(MktDATA, package = "UBStats")

# Bivariate bar plots
# - Two discrete variables (factor or vector with few levels)
#   Joint counts
distr.plot.xy(CustClass, Children,plot.type = "bars", 
              freq = "Counts", freq.type = "joint",
              data = MktDATA)
# - Two discrete variables (factor or vector with few levels)
#   Joint percentages, side-by-side bars
#   User-defined colors
distr.plot.xy(Children,CustClass, plot.type = "bars", 
              bar.type = "beside",
              freq = "percent", freq.type = "joint",
              color = c("red","gold","green","forestgreen"),
              data = MktDATA)
# - One numeric variable classified into intervals
#   and one variable measured in classes
#   Conditional percentages of x|y 
distr.plot.xy(TotPurch, Income, plot.type = "bars", 
              freq = "percent",freq.type = "x|y",
              breaks.x = c(0,5,10,15,20,35),
              interval.y = TRUE, data = MktDATA)
#   Conditional percentages of y|x 
distr.plot.xy(TotPurch, Income, plot.type = "bars", 
              freq = "percent",freq.type = "y|x",
              breaks.x = c(0,5,10,15,20,35),
              interval.y = TRUE, data = MktDATA)

# Side-by-side boxplots
# - A continuous variable conditioned to a factor, 
#   a character, or a classified variable
#   The distributions of the numeric variable conditioned
#   to the factor (or character) are displayed
distr.plot.xy(x = AOV, y = Education, plot.type = "boxplot",
              data = MktDATA)
distr.plot.xy(x = Income.S, y = AOV, plot.type = "boxplot",
              interval.x = TRUE, data = MktDATA)
distr.plot.xy(x = Baseline, y = TotPurch, plot.type = "boxplot",
              breaks.y = c(0,5,10,15,20,35),
              data = MktDATA)
# - Two numerical variables. By default distributions 
#   of y|x are displayed unless differently 
#   specified in freq.type
distr.plot.xy(x = NPickUp_Purch, y = NWeb_Purch,
              plot.type = "boxplot", data = MktDATA)
distr.plot.xy(x = NPickUp_Purch, y = NWeb_Purch,
              plot.type = "boxplot",freq.type = "x|y",
              data = MktDATA)

# Scatter plots
# - Two numerical variables: default options
distr.plot.xy(Baseline, TotVal, plot.type = "scatter", 
              fitline = TRUE, data = MktDATA)
# - Two numerical variables: colors based on discrete var 
distr.plot.xy(Baseline, TotVal, plot.type = "scatter", 
              var.c = Marital_Status,  
              fitline = TRUE, data = MktDATA)
distr.plot.xy(Baseline, TotVal, plot.type = "scatter", 
              var.c = Income, interval.c = TRUE, 
              fitline = TRUE, data = MktDATA)
distr.plot.xy(Baseline, TotVal, plot.type = "scatter", 
              var.c = TotPurch, breaks.c = 10, 
              fitline = TRUE, data = MktDATA)
# - Two numerical variables: colors based 
#   on a continuous numerical variable
distr.plot.xy(Baseline, TotVal, plot.type = "scatter", 
              var.c = AOV, fitline = TRUE, data = MktDATA)

# - One numerical variable and one factor or character 
distr.plot.xy(Baseline, Marital_Status, plot.type = "scatter", 
              fitline = TRUE, data = MktDATA)
distr.plot.xy(Income.S, Baseline, plot.type = "scatter", 
              interval.x = TRUE,
              fitline = TRUE, data = MktDATA)
#   color based on a third variable
distr.plot.xy(TotPurch, TotVal, plot.type = "scatter", 
              breaks.x = c(0,5,10,15,20,35),
              var.c = AOV,
              fitline = TRUE, data = MktDATA)

# - Two factors or character vectors: bubble plots
distr.plot.xy(Education, LikeMost, plot.type = "scatter", 
              data = MktDATA)
# - Two classified variables (i.e. not properly numerical): 
#   bubble plots, changed color
distr.plot.xy(Income.S, TotPurch, plot.type = "scatter",
              interval.x = TRUE,
              breaks.y = c(0,5,10,15,20,35),
              color = "orchid", data = MktDATA)

# Arguments adj.breaks and use.scientific 
#  Variable with very wide ranges
LargeC&lt;-MktDATA$AOV*5000000 
LargeX&lt;-MktDATA$Baseline*1000000 
LargeY&lt;-MktDATA$TotVal*1000000
#  - Default: no scientific notation
distr.plot.xy(LargeX, LargeY, plot.type = "scatter", 
              var.c = LargeC, data = MktDATA)
distr.plot.xy(LargeX, LargeY, plot.type = "scatter", 
              breaks.x = 10, var.c = LargeC, 
              data = MktDATA)
#  - Scientific notation for axes 
distr.plot.xy(LargeX, LargeY, plot.type = "scatter", 
              breaks.x = 10, var.c = LargeC, 
              use.scientific = TRUE,
              data = MktDATA)
#  - Scientific notation for intervals' endpoints
distr.plot.xy(LargeX, LargeY, plot.type = "scatter", 
              breaks.x = 10, var.c = LargeC, 
              adj.breaks = FALSE,
              data = MktDATA)
#  - Scientific notation for intervals endpoints and axes
distr.plot.xy(LargeX, LargeY, plot.type = "scatter", 
              var.c = LargeC, fitline = TRUE, 
              adj.breaks = FALSE, use.scientific = TRUE,
              data = MktDATA)
distr.plot.xy(LargeX, LargeY, plot.type = "scatter", 
              breaks.x = 10, var.c = LargeC, 
              adj.breaks = FALSE, use.scientific = TRUE,
              data = MktDATA)

</code></pre>


</div>