<div class="container">

<table style="width: 100%;"><tr>
<td>duoComparisonDiamondPlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>meansComparisonDiamondPlot and duoComparisonDiamondPlot</h2>

<h3>Description</h3>

<p>These are two diamond plot functions to conveniently make diamond plots to
compare subgroups or different samples. They are both based on a univariate
diamond plot where colors are used to distinguish the data points and
diamonds of each subgroup or sample. The means comparison diamond plot
produces only this plot, while the duo comparison diamond plot combines it
with a diamond plot visualising the effect sizes of the associations. The
latter currently only works for two subgroups or samples, while the simple
meansComparisonDiamondPlot also works when comparing more than two sets of
datapoints. These functions are explained more in detail in Peters (2017).
</p>


<h3>Usage</h3>

<pre><code class="language-R">duoComparisonDiamondPlot(
  dat,
  items = NULL,
  compareBy = NULL,
  labels = NULL,
  compareByLabels = NULL,
  decreasing = NULL,
  conf.level = c(0.95, 0.95),
  showData = TRUE,
  dataAlpha = 0.1,
  dataSize = 3,
  comparisonColors = viridisPalette(length(unique(dat[, compareBy]))),
  associationsColor = "grey",
  alpha = 0.33,
  jitterWidth = 0.5,
  jitterHeight = 0.4,
  xlab = c("Scores and means", "Effect size estimates"),
  ylab = c(NULL, NULL),
  plotTitle = NULL,
  theme = ggplot2::theme_bw(),
  showLegend = TRUE,
  legend.position = "top",
  lineSize = 1,
  drawPlot = TRUE,
  xbreaks = "auto",
  outputFile = NULL,
  outputWidth = 10,
  outputHeight = 10,
  ggsaveParams = ufs::opts$get("ggsaveParams"),
  ...
)

meansComparisonDiamondPlot(
  dat,
  items = NULL,
  compareBy = NULL,
  labels = NULL,
  compareByLabels = NULL,
  decreasing = NULL,
  sortBy = NULL,
  conf.level = 0.95,
  showData = TRUE,
  dataAlpha = 0.1,
  dataSize = 3,
  comparisonColors = viridisPalette(length(unique(dat[, compareBy]))),
  alpha = 0.33,
  jitterWidth = 0.5,
  jitterHeight = 0.4,
  xlab = "Scores and means",
  ylab = NULL,
  plotTitle = NULL,
  theme = ggplot2::theme_bw(),
  showLegend = TRUE,
  legend.position = "top",
  lineSize = 1,
  xbreaks = "auto",
  outputFile = NULL,
  outputWidth = 10,
  outputHeight = 10,
  ggsaveParams = ufs::opts$get("ggsaveParams"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>The dataframe containing the relevant variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>items</code></td>
<td>
<p>The variables to plot (on the y axis).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compareBy</code></td>
<td>
<p>The variable by which to compare (i.e. the variable
indicating to which subgroup or sample a row in the dataframe belongs).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>The labels to use on the y axis; these values will replace the
variable names in the dataframe (specified in <code>items</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compareByLabels</code></td>
<td>
<p>The labels to use to replace the value labels of the
<code>compareBy</code> variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decreasing</code></td>
<td>
<p>Whether to sort the variables by their mean values
(<code>NULL</code> to not sort, <code>TRUE</code> to sort in descending order (i.e.
items with lower means are plotted more to the bottom), and <code>FALSE</code> to
sort in ascending order (i.e. items with lower means are plotted more to the
top).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>The confidence level of the confidence intervals specified
by the diamonds for the means (for <code>meansComparisonDiamondPlot</code>) and
for both the means and effect sizes (for <code>duoComparisonDiamondPlot</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showData</code></td>
<td>
<p>Whether to plot the data points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataAlpha</code></td>
<td>
<p>The transparency (alpha channel) value for the data points:
a value between 0 and 1, where 0 denotes complete transparency and 1 denotes
complete opacity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataSize</code></td>
<td>
<p>The size of the data points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comparisonColors</code></td>
<td>
<p>The colors to use for the different subgroups or
samples. This should be a vector of valid colors with at least as many
elements as sets of data points that should be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>associationsColor</code></td>
<td>
<p>For <code>duoComparisonDiamondPlot</code>, the color to
use to plot the effect sizes in the right-hand plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The alpha channel (transparency) value for the diamonds: a
value between 0 and 1, where 0 denotes complete transparency and 1 denotes
complete opacity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitterWidth, jitterHeight</code></td>
<td>
<p>How much noise to add to the data points (to
prevent overplotting) in the horizontal (x axis) and vertical (y axis)
directions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab, ylab</code></td>
<td>
<p>The label to use for the x and y axes (for
<code>duoComparisonDiamondPlot</code>, must be vectors of two elements). Use
<code>NULL</code> to not use a label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotTitle</code></td>
<td>
<p>Optionally, for <code>meansComparisonDiamondPlot</code>, a title
for the plot (can also be specified for <code>duoComparisonDiamondPlot</code>, in
which case it's passed on to <code>meansComparisonDiamondPlot</code> for the left panel -
but note that this messes up the alignment of the two panels).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theme</code></td>
<td>
<p>The theme to use for the plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showLegend</code></td>
<td>
<p>Whether to show the legend (which color represents which
subgroup/sample).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.position</code></td>
<td>
<p>Where to place the legend in <code>meansComparisonDiamondPlot</code>
(can also be specified for <code>duoComparisonDiamondPlot</code>, in
which case it's passed on to <code>meansComparisonDiamondPlot</code> for the left panel -
but note that this messes up the alignment of the two panels).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lineSize</code></td>
<td>
<p>The thickness of the lines (the diamonds' strokes).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drawPlot</code></td>
<td>
<p>Whether to draw the plot, or only (invisibly) return it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xbreaks</code></td>
<td>
<p>Where the breaks (major grid lines, ticks, and labels) on the
x axis should be.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputFile</code></td>
<td>
<p>A file to which to save the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputWidth, outputHeight</code></td>
<td>
<p>Width and height of saved plot (specified in
centimeters by default, see <code>ggsaveParams</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ggsaveParams</code></td>
<td>
<p>Parameters to pass to ggsave when saving the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Any additional arguments are passed to
<code>diamondPlot()</code> by <code>meansComparisonDiamondPlot</code> and to both
<code>meansComparisonDiamondPlot</code> and <code>associationsDiamondPlot()</code>
by <code>duoComparisonDiamondPlot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sortBy</code></td>
<td>
<p>If the variables should be sorted (see <code>decreasing</code>),
this variable specified which subgroup should be sorted by. Therefore, the
value specified here must be a value label ('level label') of the
<code>compareBy</code> variable.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions are explained in Peters (2017).
</p>


<h3>Value</h3>

<p>A Diamond plots: a <code>ggplot2::ggplot()</code> plot
<code>meansComparisonDiamondPlot</code>, and a <code>gtable()</code> by
<code>duoComparisonDiamondPlot</code>.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>References</h3>

<p>Peters, G.-J. Y. (2017). Diamond Plots: a tutorial to introduce
a visualisation tool that facilitates interpretation and comparison of
multiple sample estimates while respecting their inaccuracy.
<em>PsyArXiv.</em> http://doi.org/10.17605/OSF.IO/9W8YV
</p>


<h3>See Also</h3>

<p><code>diamondPlot()</code>, <code>meansDiamondPlot()</code>, the <code>CIBER()</code> function in
the <code>behaviorchange</code> package
</p>


<h3>Examples</h3>

<pre><code class="language-R">
meansComparisonDiamondPlot(mtcars,
                           items=c('disp', 'hp'),
                           compareBy='vs',
                           xbreaks=c(100,200, 300, 400));
meansComparisonDiamondPlot(chickwts,
                           items='weight',
                           compareBy='feed',
                           xbreaks=c(100,200,300,400),
                           showData=FALSE);
duoComparisonDiamondPlot(mtcars,
                         items=c('disp', 'hp'),
                         compareBy='vs',
                         xbreaks=c(100,200, 300, 400));

</code></pre>


</div>