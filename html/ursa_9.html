<div class="container">

<table style="width: 100%;"><tr>
<td>legend_colorbar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Plot colorbar
</h2>

<h3>Description</h3>

<p>Functions draw single color bar outside of maps panels. <code>legend_colorbar</code> (without prefix dot) is a wrapper for non-public <code>.legend_colorbar</code> (with prefix dot)
</p>


<h3>Usage</h3>

<pre><code class="language-R">legend_colorbar(...)

## non-public
.legend_colorbar(ct, units = "", labels = NA, align = NULL, shift = 1, cex = 1,
                 adj = NA, las = 1, forceLabel = FALSE, lomar = 0, himar = 0,
                 turn = FALSE, useRaster = NA, trim = 0L, abbrev = 24L,
                 opacity = NA, verbose = FALSE)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Set of arguments, which are recognized via their names (using regular expressions) and classes.  Passed to non-public <code>.legend_colorbar</code>, excepting argument <code>colorbar</code>:
</p>

<table>
<tr>
<td style="text-align: left;">
      <em>Matched pattern</em> (<code>legend_colorbar</code>) </td>
<td style="text-align: left;"> <em>Argument</em> (<code>.legend_colorbar</code>) </td>
<td style="text-align: left;"> <em>Description</em>
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>colorbar</code> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> Prefix for indirect use (e.g., in <code>display</code>). Separated by a dot <code>"."</code>, e.g., <code>colorbar.units="mbar"</code>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>(ct)*</code> </td>
<td style="text-align: left;"> <code>ct</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>unit(s)*</code> </td>
<td style="text-align: left;"> <code>units</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>labels</code> </td>
<td style="text-align: left;"> <code>labels</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>align</code> </td>
<td style="text-align: left;"> <code>align</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>shift</code> </td>
<td style="text-align: left;"> <code>shift</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>cex</code> </td>
<td style="text-align: left;"> <code>cex</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>adj</code> </td>
<td style="text-align: left;"> <code>adj</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>las</code> </td>
<td style="text-align: left;"> <code>las</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>forceLabel</code> </td>
<td style="text-align: left;"> <code>forceLabel</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>lomar</code> </td>
<td style="text-align: left;"> <code>lomar</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>himar</code> </td>
<td style="text-align: left;"> <code>himar</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>turn</code> </td>
<td style="text-align: left;"> <code>turn</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>useRaster</code> </td>
<td style="text-align: left;"> <code>useRaster</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>trim</code> </td>
<td style="text-align: left;"> <code>trim</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>abbrev</code> </td>
<td style="text-align: left;"> <code>abbrev</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>opacity</code> </td>
<td style="text-align: left;"> <code>opacity</code> </td>
<td style="text-align: left;"> <em>See below</em>.
      </td>
</tr>
<tr>
<td style="text-align: left;"> <code>verb(ose)*</code> </td>
<td style="text-align: left;"> <code>verbose</code> </td>
<td style="text-align: left;"> <em>See below</em>.
   </td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ct</code></td>
<td>

<p><code>ursaRaster</code> object with color table or object of class <code>ursaColorTable</code>. First argument in <code>legend_colorbar</code>; name can be omitted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>

<p>Argument of class <code>character</code> or <code>expression</code> with matching name <code>"unit(s)*"</code> in <code>legend_colorbar</code>. Text, which is used as a caption for color bars. If <code>character</code> then caption is displayed in bold. Default is <code>""</code>: no caption.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>

<p>Argument of class <code>integer</code> or <code>character</code> with matching name <code>"labels"</code> in <code>legend_colorbar</code>. If <code>labels</code> is vector of length 1, then it is number of labels at the color bar, else vector of specified values. Default is <code>NA</code>: it means 11 labels for numerical values and 31 labels for categorical values, but this number can be reduced for perpendicular orientation to the axes to prevent label overlapping.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>align</code></td>
<td>

<p>Argument of class <code>numeric</code> with matching name <code>"align"</code> in <code>legend_colorbar</code>. The indent for right alignment of labels. May be useful, if two or more color bars are located on the same side, but with different units and order of values. Can be specified by the string of maximal length or via <code>legend_align</code>. Default is <code>NULL</code>: right alignment of each color bar is independent.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shift</code></td>
<td>

<p>Argument of class <code>numeric</code> with matching name <code>"shift"</code> in <code>legend_colorbar</code>. Multiplier for manual correction of labels alignment in the case when automatical alignment is poor. Default is <code>1</code>: no changes. If <code>shift&lt;1</code> then labels are shifted to the left. If <code>shift&gt;1</code> then labels are shifted to the right.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>

<p>Argument of class <code>numeric</code> with matching name <code>"cex"</code> in <code>legend_colorbar</code>. A numerical value giving the amount by which labels should be magnified relative to the default. Default is <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj</code></td>
<td>

<p>Argument of class <code>numeric</code> with matching name <code>"adj"</code> in <code>legend_colorbar</code>. Adjustment for labels. For labels parallel to the axes, <code>adj=0</code> means left or bottom alignment, and <code>adj=1</code> means right or top alignment. Default is <code>NA</code>: for labels parallel to the axes <code>adj=0.5</code>, for labels perpendicular to the axis <code>adj=1</code> for numeric and <code>adj=0</code> for character.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>las</code></td>
<td>

<p>Argument of values <code>0, 1, 2, 3</code> with matching name <code>"adj"</code> in <code>legend_colorbar</code>. The correspondence between directions of axis and labels. The same definition as for <code>par(las=)</code>. Default is <code>1L</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forceLabel</code></td>
<td>

<p>Argument of class <code>logical</code> with matching name <code>"forceLabel"</code> in <code>legend_colorbar</code>. If <code>TRUE</code> then all labels are plotted regardless their possible overlapping.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lomar</code></td>
<td>

<p>Argument of class <code>numeric</code>, non-negative, with matching name <code>"lomar"</code> in <code>legend_colorbar</code>.Relative shifting of the lower (left or bottom) position of colorbar. Default is <code>0</code>: the lower position is corresponded to the limit of panel(s). Positive value decreases length of colorbar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>himar</code></td>
<td>

<p>Argument of class <code>numeric</code>, non-negative, with matching name <code>"himar"</code> in <code>legend_colorbar</code>. Relative shifting of the higher (right or bottom) position of colorbar. Default is <code>0</code>: the higher position is corresponded to the limit of panel(s). Positive value decreases length of colorbar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>turn</code></td>
<td>

<p>Argument of class <code>logical</code> with matching name <code>"turn"</code> in <code>legend_colorbar</code>. Default is <code>FALSE</code>: lower value is on left or bottom, higher value is on right or top. If <code>turn=TRUE</code>, then opposite order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useRaster</code></td>
<td>

<p>Argument of class <code>logical</code> with matching name <code>"useRaster"</code> in <code>legend_colorbar</code>. Passed as argument <code>useRaster</code> to function <code>image</code>. Default is <code>NA</code>, which is interpreted as <code>TRUE</code> for "cairo" graphical device and as <code>FALSE</code> for "windows" graphical device (see description of argument <code>type</code> in <code>png</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim</code></td>
<td>

<p>Argument of values <code>0L, 1L, 2L</code> with matching name <code>"trim"</code> in <code>legend_colorbar</code>. Determines behaviour for plotting marginal labels. If <code>0L</code>, then marginal labels are displayed as is. If <code>1L</code>, then marginal labels are shifted inside of color bar to prevent their outcrop to the panel(s) limits. If <code>2L</code> then outctopped labels are not displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abbrev</code></td>
<td>

<p>Argument of class <code>integer</code> or <code>logical</code> with matching name <code>"abbrev"</code> in <code>legend_colorbar</code>. <code>TRUE</code> is interpreted as default value. <code>FALSE</code> is interpreted as <code>0L</code>. If positive, then labels are abbreviated, and this argument is passed as argument <code>minlength</code> to function <code>abbreviate</code>: <code>abbreviate(label, minlength=abbrev, strict=TRUE)</code>. If abbreviation is failed (e.g., non-ASCII symbols), the <code>subset</code> is applied. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opacity</code></td>
<td>

<p>Argument of class <code>integer</code> or <code>logical</code> with matching name <code>"abbrev"</code> in <code>legend_colorbar</code>. Responses for shading of color bar. If <code>FALSE</code> or <code>0</code>, then no shading. If <code>TRUE</code> or <code>1</code>, then shading is forced. Default is <code>NA</code>; if semi-transparence is detected, then shading is applied.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Argument of class <code>logical</code> with matching name <code>"verb(ose)*"</code> in <code>legend_colorbar</code>. Value <code>TRUE</code> may provide some additional information on console. Default is <code>FALSE</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>units</code> are <code>expression</code>, then possible way for formatting is:</p>
<pre>
units=as.expression(substitute(bold(degree*C)))
</pre>


<h3>Value</h3>

<p><code>NULL</code>
</p>


<h3>Author(s)</h3>

<p>Nikita Platonov <a href="mailto:platonov@sevin.ru">platonov@sevin.ru</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">session_grid(NULL)
display(ursa_dummy(1),units="Required 99 labels; displayed less"
        ,colorbar.labels=99,las=3,gridline.trim=FALSE,colorbar.trim=1L)
cname &lt;- c("Apple","Orange","Cherry","Blueberry","Strawberry","Currant")
a &lt;- ursa_dummy(4)
b &lt;- list(colorize(a[1],value=seq(50,200,length=length(cname))
                  ,name=cname)#,stretch="category")
         ,colorize(a[2]*10,ramp=FALSE),colorize(a[3]*100),colorize(a[4]/10))
la &lt;- legend_align(b[3:4])
leg &lt;- vector("list",10)
leg[[1]] &lt;- list(1,"left")
leg[[2]] &lt;- list(1,"right")
for (i in seq(4)) {
   leg[[i+2]] &lt;- list("top",i)
   leg[[i+6]] &lt;- list("bottom",i)
}
compose_open(layout=c(1,4),legend=leg,scale=NA,dev=FALSE) # use 'dev=TRUE' to check layout
compose_panel(b)
legend_colorbar(b[[1]],lomar=20,himar=0) ## "left"
legend_colorbar(b[[4]],labels=c(6,7.5,12,15,20)
               ,units="Manual set of labels") ## "right"
legend_colorbar(b[[1]],las=2,adj=0.5,turn=TRUE,lomar=6,himar=6
               ,units="Central adjustment; inverse order") ## ("top",1)
legend_colorbar(b[[2]],cex=0.9
               ,units="Horizontal labels can be overlapped") ## ("top",2)
legend_colorbar(b[[3]],las=3,align=la
               ,units="Increased width, but aligned --&gt;") ## ("top",3)
legend_colorbar(b[[4]],las=3,align=la,labels=3
               ,units="&lt;-- Reduced width, but aligned") ## ("top",4)
legend_colorbar(b[[1]],las=2,adj=0,shift=0.9,turn=FALSE,lomar=2,himar=10
               ,units="Left adjustement. Non-optimal; shifted") ## ("bottom",1)
legend_colorbar(b[[2]],las=3,adj=0
               ,units="But right adj. is default for numeric") ## ("bottom",2)
legend_colorbar(b[[3]],labels=99,las=3,trim=2L
               ,units="Required 99 labels, but displayed less") ## ("bottom",3)
legend_colorbar('Caption from named item'=b[[4]],labels=99) ## ("bottom",4)
compose_close()
</code></pre>


</div>