<div class="container">

<table style="width: 100%;"><tr>
<td>pclm.fit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit PCLM Models</h2>

<h3>Description</h3>

<p>This is an internal function used to estimate PCLM model. It is used by 
<code>pclm</code> and <code>pclm2D</code> functions
</p>


<h3>Usage</h3>

<pre><code class="language-R">pclm.fit(
  x,
  y,
  nlast,
  offset,
  out.step,
  verbose,
  lambda,
  kr,
  deg,
  diff,
  max.iter,
  tol,
  type
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Vector containing the starting values of the input intervals/bins.
For example: if we have 3 bins <code>[0,5), [5,10) and [10, 15)</code>,
<code>x</code> will be defined by the vector: <code>c(0, 5, 10)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Vector with counts to be ungrouped. It must have the same dimension 
as <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlast</code></td>
<td>
<p>Length of the last interval. In the example above <code>nlast</code> 
would be 5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>Optional offset term to calculate smooth mortality rates. 
A vector of the same length as x and y. See 
Rizzi et al. (2015) for further details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out.step</code></td>
<td>
<p>Length of estimated intervals in output. 
Values between 0.1 and 1 are accepted. Default: 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical value. Indicates whether a progress bar should be 
shown or not.
Default: <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>Smoothing parameter to be used in pclm estimation.
If <code>lambda = NA</code> an algorithm will find the optimal values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kr</code></td>
<td>
<p>Knot ratio. Number of internal intervals used for defining 1 knot in 
B-spline basis construction. See <code>MortSmooth_bbase</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deg</code></td>
<td>
<p>Degree of the splines needed to create equally-spaced B-splines 
basis over an abscissa of data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diff</code></td>
<td>
<p>An integer indicating the order of differences of the components 
of PCLM coefficients. Default value: 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.iter</code></td>
<td>
<p>Maximal number of iterations used in fitting procedure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Relative tolerance in PCLM fitting procedure. Default: 0.1% i.e. 
the estimated aggregate bins should be in the 0.1% error margin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of PCLM model. Options: <code>"1D", "2D"</code> for 
univariate and two-dimensional model respectively.</p>
</td>
</tr>
</table>
</div>