<div class="container">

<table style="width: 100%;"><tr>
<td>MixedTypeEngine-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The "MixedTypeEngine" Class</h2>

<h3>Description</h3>

<p>A MixedTypeEngine combines a ClinicalEngine (which defines the combinatorics
of hits and block hyperparameters that determine cluster identities and behavior),
a stored <code>ClinicalNoiseModel</code>, and cutpoints for generating mixed type
data generated by <code>makeDataTypes</code> into an object that can be used to
re-generate downstream datasets with shared parameters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MixedTypeEngine(ce, noise, cutpoints)
## S4 method for signature 'MixedTypeEngine'
rand(object, n, keepall = FALSE, ...)
## S4 method for signature 'MixedTypeEngine'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ce</code></td>
<td>
<p>Object of class <code>ClinicalEngine</code> (or a list; see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noise</code></td>
<td>
<p>Object of class <code>NoiseModel</code>, preferably constructed
using the function <code>ClinicalNoiseModel</code>. Alternatively, a list;
see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutpoints</code></td>
<td>
<p>a list with the properties of the <code>cutpoints</code>
element produced by the function <code>makeDataTypes</code>. Alternatively,
a list; see Details. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>object of class <code>MixedTypeEngine</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>a non-negative integer</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keepall</code></td>
<td>
<p>a logical value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments for generic functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The MixedTypeEngine is a device for a parameter set used to generate 
a simulated set of clinical data which can be used to store these parameters
and to generate related datasets downstream. Building a MixedTypeEngine
requires many parameters. You can supply these parameters in mutliple
steps:
</p>

<ol>
<li>
<p> Construct a <code>ClinicalEngine</code>.
</p>
</li>
<li>
<p> Contruct a <code>ClinicalNoiseModel</code>.
</p>
</li>
<li>
<p> Use <code>rand</code>rand to generate a "raw" data set from the
<code>ClinicalEngine</code>.
</p>
</li>
<li>
<p> Use <code>blur</code> to add noise to the raw data.
</p>
</li>
<li>
<p> Feed the noisy data into <code>makeDataTypes</code> to generate a
mixed-type dataset, with cut points.
</p>
</li>
<li>
<p> Pass the <code>ClinicalEngine</code>, <code>ClinicalNoiseModel</code>, and
cutpoints into the <code>MixedTypeEngine</code> constructor.
</p>
</li>
</ol>
<p>The alternative method is to pass the parameters for Steps 1, 2, and 5
directly into the <code>MixedTypeEngine</code> directly, as lists, and it will
carry out steps 3-5 automatically. Note, however, that instead of
passing a <code>dataset</code> to be used by the <code>makeDataTypes</code> function,
you instead set the value of <code>N</code> to the desired number of patients
used during construction. Also, if you use the explicit steps, you
can save the intermediate data sets that are generated. If you simply
pass all of the parameters to the constructor, those intermediate data
sets are discarded, and you must generate a new data set using
<code>rand</code>.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by a direct call to
new, though using the constructor
<code>MixedTypeEngine</code> is preferred.
</p>


<h3>Methods</h3>


<dl>
<dt>rand(object, n, keepall, ...)</dt>
<dd>
<p>Generates <code class="reqn">nrow(Engine)*n</code> matrix
representing clinical features of <code>n</code> patients following the
underlying distribution, noise, and data discretization pattern
captured in the object of <code>MixedTypeEngine</code>. If <code>keepall
      == TRUE</code>, it reurns a list containing a data frame named
<code>clinical</code> and three data matrices called <code>raw</code>,
<code>noisy</code>, and <code>binned</code>. If <code>keepall == FALSE</code>, then
noly the <code>clinical</code> and <code>binned</code> components are returned.</p>
</dd>
</dl>
<dl>
<dt>summary(object, ...)</dt>
<dd>
<p>Prints a summary of the object.</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Kevin R. Coombes <a href="mailto:krc@silicovore.com">krc@silicovore.com</a>,
Caitlin E. Coombes <a href="mailto:caitlin.coombes@osumc.edu">caitlin.coombes@osumc.edu</a>
</p>


<h3>See Also</h3>

<p><code>Engine</code>
<code>CancerModel</code>
<code>CancerEngine</code>
<code>ClinicalNoiseModel</code>
<code>makeDataTypes</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Generate a Clinical Engine of continuous data 
## with clusters generated from variation on the base CancerEngine
ce &lt;- ClinicalEngine(20, 4, TRUE)
summary(ce)

## Generate an initial data set
set.seed(194718)
dset &lt;- rand(ce, 300)
class(dset)
names(dset)
summary(dset$clinical)
dim(dset$data)

## Add noise before binning mixed type data
cnm &lt;- ClinicalNoiseModel(nrow(ce@localenv$eng)) # default
noisy &lt;- blur(cnm, dset$data)

## Set the data mixture
dt &lt;- makeDataTypes(dset$data, 1/3, 1/3, 1/3, 0.3)
## Store the cutpoints
cp &lt;- dt$cutpoints

## Use the pieces from above to create an MTE.
mte &lt;- MixedTypeEngine(ce,
           noise = cnm,
           cutpoints = dt$cutpoints)

## Use the MTE rand method to generate
## multiple data sets with the same parameters
R &lt;- rand(mte, 20)
summary(R)

S &lt;- rand(mte, 20)
summary(S)
</code></pre>


</div>