<div class="container">

<table style="width: 100%;"><tr>
<td>add_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add data to object of class 'gsmar' defining a GMAR, StMAR, or G-StMAR model</h2>

<h3>Description</h3>

<p><code>add_data</code> adds or updates data to object of class '<code>gsmar</code>' that defines a GMAR, StMAR,
or G-StMAR model. Also calculates empirical mixing weights, conditional moments, and quantile residuals accordingly.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_data(
  data,
  gsmar,
  calc_qresiduals = TRUE,
  calc_cond_moments = TRUE,
  calc_std_errors = FALSE,
  custom_h = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a numeric vector or class <code>'ts'</code> object containing the data. <code>NA</code> values are not supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gsmar</code></td>
<td>
<p>a class 'gsmar' object, typically generated by <code>fitGSMAR</code> or <code>GSMAR</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calc_qresiduals</code></td>
<td>
<p>should quantile residuals be calculated? Default is <code>TRUE</code> iff the model contains data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calc_cond_moments</code></td>
<td>
<p>should conditional means and variances be calculated? Default is <code>TRUE</code> iff the model contains data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calc_std_errors</code></td>
<td>
<p>should approximate standard errors be calculated?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>custom_h</code></td>
<td>
<p>A numeric vector with same the length as the parameter vector: i:th element of custom_h is the difference
used in central difference approximation for partial differentials of the log-likelihood function for the i:th parameter.
If <code>NULL</code> (default), then the difference used for differentiating overly large degrees of freedom parameters
is adjusted to avoid numerical problems, and the difference is <code>6e-6</code> for the other parameters.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an object of class 'gsmar' defining the GMAR, StMAR, or G-StMAR model with the data added to the model.
If the object already contained data, the data will be updated. Does not modify the 'gsmar' object given as argument!
</p>


<h3>References</h3>


<ul>
<li>
<p> Kalliovirta L., Meitz M. and Saikkonen P. 2015. Gaussian Mixture Autoregressive model for univariate time series.
<em>Journal of Time Series Analysis</em>, <strong>36</strong>(2), 247-266.
</p>
</li>
<li>
<p> Meitz M., Preve D., Saikkonen P. 2023. A mixture autoregressive model based on Student's t-distribution.
<em>Communications in Statistics - Theory and Methods</em>, <strong>52</strong>(2), 499-515.
</p>
</li>
<li>
<p> Virolainen S. 2022. A mixture autoregressive model based on Gaussian and Student's t-distributions.
Studies in Nonlinear Dynamics &amp; Econometrics, <strong>26</strong>(4) 559-580.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>fitGSMAR</code>, <code>GSMAR</code>, <code>iterate_more</code>, <code>get_gradient</code>,
<code>get_regime_means</code>, <code>swap_parametrization</code>, <code>stmar_to_gstmar</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># G-StMAR model without data
params42gs &lt;- c(0.04, 1.34, -0.59, 0.54, -0.36, 0.01, 0.06, 1.28, -0.36,
                0.2, -0.15, 0.04, 0.19, 9.75)
gstmar42 &lt;- GSMAR(p=4, M=c(1, 1), params=params42gs, model="G-StMAR")
gstmar42

# Add data to the model
gstmar42 &lt;- add_data(data=M10Y1Y, gsmar=gstmar42)
gstmar42
</code></pre>


</div>